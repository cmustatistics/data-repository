<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jessica Zhiyu Guo">
<meta name="dcterms.date" content="2025-07-29">
<meta name="description" content="The Bechdel test evaluates works of fiction based on whether they contain at least two women who talk to each other about something other than a man. It is often viewed as a proxy for gender bias in film and TV. Using a movie dataset from 1970 to 2013, we try to understand if passing the Bechdel test hurts or benefits the box office.">

<title>Bechdel Test and box office results – CMU S&amp;DS Data Repository</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-ca8d540a675d9487c69a7abe1948c93f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//www.refsmmat.com/analytics/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">CMU S&amp;DS Data Repository</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../by-method.html" aria-current="page"> 
<span class="menu-text">All Datasets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../submit-data.html"> 
<span class="menu-text">Submit a Dataset</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../external-sources.html"> 
<span class="menu-text">External Sources</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../social/bechdel_test.html">Social</a></li><li class="breadcrumb-item"><a href="../social/bechdel_test.html">Bechdel Test and box office results</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../by-method.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">All Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../external-sources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">External Sources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../submit-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Submit a Dataset</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Astronomy</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../astronomy/buzzard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Galaxy mass prediction</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Biology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../biology/anage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AnAge Longevity Database</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../biology/bird-diversity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bird genetic diversity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../biology/bug-attraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Insect attraction to light</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../biology/dry-beans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dry beans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../biology/spider-nuptials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spider nuptial gifts and fraud</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Crime and Justice</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../crime-and-justice/connecticut-stops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Traffic stops in Connecticut</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../crime-and-justice/mapping-police-violence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mapping Police Violence</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Daily Life</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../daily-life/college-scorecard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">US College Scorecard</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../daily-life/fandango_movie_ratings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fandango movie ratings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../daily-life/rtg-tinned-fish.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RTG tinned fish</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Language</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../language/hap-e.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Human-AI Parallel Corpus</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Medicine</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../medicine/bloodletting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bloodletting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../medicine/core-temperature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core temperature during surgery</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../medicine/meningitis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distinguishing bacterial and viral meningitis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../medicine/vietnam-health.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Health exams in Vietnam</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">Money</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../money/ames-housing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">House prices in Ames, Iowa</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../money/european-ham.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">European protected ham</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../money/rail-trails.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rail trails and property values</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">Politics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../politics/jan-6-insurrectionists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">January 6th insurrectionists</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../politics/social_capital.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Social capital, income inequality, and political outcomes across US counties</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../politics/standard-cities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fiscally standardized cities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../politics/world-bank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">World Development Indicators</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Psychology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/cmu-sleep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nightly sleep time and GPA in first-years</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/hormone-diversity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testosterone and diversity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/male-makeup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Makeup and male attractiveness</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/many-analysts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bias in soccer refereeing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/moral-rebels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resenting moral rebels</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/plate-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Serving sizes and plate sizes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/religion-analytic-thinking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Religion and analytic thinking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psychology/sugary-drinks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sugary drinks and portion limits</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Social</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/bechdel_test.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Bechdel Test and box office results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/bostonhousing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boston Housing and fairness assessment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/costa_rica_households.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Costa Rican household poverty level</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/data-viz-survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey of data visualization courses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/elite-college-admissions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Elite college admissions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/migrants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survey on attitude towards migrants</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social/science-forums.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Science Forums</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">Sports</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sports/sprinters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fastest 100m sprint times</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#data-preview" id="toc-data-preview" class="nav-link" data-scroll-target="#data-preview">Data preview</a></li>
  <li><a href="#variable-descriptions" id="toc-variable-descriptions" class="nav-link" data-scroll-target="#variable-descriptions">Variable descriptions</a></li>
  </ul></li>
  <li><a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions">Questions</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/cmustatistics/data-repository/edit/main/social/bechdel_test.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cmustatistics/data-repository/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../social/bechdel_test.html">Social</a></li><li class="breadcrumb-item"><a href="../social/bechdel_test.html">Bechdel Test and box office results</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Bechdel Test and box office results</h1>
  <div class="quarto-categories">
    <div class="quarto-category">EDA</div>
    <div class="quarto-category">linear regression</div>
    <div class="quarto-category">ANOVA</div>
  </div>
  </div>

<div>
  <div class="description">
    The Bechdel test evaluates works of fiction based on whether they contain at least two women who talk to each other about something other than a man. It is often viewed as a proxy for gender bias in film and TV. Using a movie dataset from 1970 to 2013, we try to understand if passing the Bechdel test hurts or benefits the box office.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jessica Zhiyu Guo </p>
          </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 29, 2025</p>
    </div>
  </div>
  
  
  
    <div>
    <div class="quarto-title-meta-heading">Data files</div>
    <div class="quarto-title-meta-contents">
            • <a class="data-file" href="https://cmustatistics.github.io/data-repository/data/movies.csv">movies.csv</a>
          </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Data year</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2013</p>
    </div>
  </div>
  </div>


</header>


<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>The <a href="https://en.wikipedia.org/wiki/Bechdel_test">Bechdel Test</a> is a criterion invented by Alison Bechdel to test whether a movie has at least two named women in the picture, they have a conversation with each other at some point, and that conversation isn’t about a male character, arguing that it offers a minimum effort for female character’s depth. Since its invention, the Bechdel Test has been applied broadly as a measure for gender representation in the film industry.</p>
<p>The test is obviously not perfect; as FiveThirtyEight author Walt Hickey writes, “<em>Gravity</em> — which is dominated almost entirely by Sandra Bullock, in a highly praised performance — fails the test, as Bullock never speaks to another woman in the film.” But the test continues to hold cultural significance and reminds the film industry to do better.</p>
<p>Hickey and colleagues at FiveThirtyEight collected data from 1970 to 2013 on movies and their Bechdel Test results and their box office performances. They argue that passing the Bechdel Test doesn’t hurt a movie’s box office performance, and on the contrary, tend to have higher median return-on-investment. They hope for a change for better and fuller female characters in film in the future.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p>The dataset includes 1,794 movies released between 1970 and 2013, when the data was collected. The authors at FiveThirtyEight collected data through the intersection of <a href="https://www.the-numbers.com">The-Numbers</a>, which provides movie box office data, and <a href="https://BechdelTest.com">BechdelTest</a>, which rates whether movies pass the test. When considering the financial information, the authors adjusted all numbers for inflation, using 2013 dollars.</p>
<section id="data-preview" class="level3">
<h3 class="anchored" data-anchor-id="data-preview">Data preview</h3>
<h4 class="anchored">
<a href=" https://cmustatistics.github.io/data-repository/data/movies.csv "> movies.csv </a>
</h4>
<div data-pagedtable="false">
<script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["imdb"],"name":[2],"type":["chr"],"align":["left"]},{"label":["title"],"name":[3],"type":["chr"],"align":["left"]},{"label":["test"],"name":[4],"type":["chr"],"align":["left"]},{"label":["clean_test"],"name":[5],"type":["chr"],"align":["left"]},{"label":["binary"],"name":[6],"type":["chr"],"align":["left"]},{"label":["budget"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["domgross"],"name":[8],"type":["chr"],"align":["left"]},{"label":["intgross"],"name":[9],"type":["chr"],"align":["left"]},{"label":["code"],"name":[10],"type":["chr"],"align":["left"]},{"label":["budget_2013$"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["domgross_2013$"],"name":[12],"type":["chr"],"align":["left"]},{"label":["intgross_2013$"],"name":[13],"type":["chr"],"align":["left"]},{"label":["period code"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["decade code"],"name":[15],"type":["dbl"],"align":["right"]}],"data":[{"1":"2013","2":"tt1711425","3":"21 &amp; Over","4":"notalk","5":"notalk","6":"FAIL","7":"1.30e+07","8":"25682380","9":"42195766","10":"2013FAIL","11":"13000000","12":"25682380","13":"42195766","14":"1","15":"1"},{"1":"2012","2":"tt1343727","3":"Dredd 3D","4":"ok-disagree","5":"ok","6":"PASS","7":"4.50e+07","8":"13414714","9":"40868994","10":"2012PASS","11":"45658735","12":"13611086","13":"41467257","14":"1","15":"1"},{"1":"2013","2":"tt2024544","3":"12 Years a Slave","4":"notalk-disagree","5":"notalk","6":"FAIL","7":"2.00e+07","8":"53107035","9":"158607035","10":"2013FAIL","11":"20000000","12":"53107035","13":"158607035","14":"1","15":"1"},{"1":"2013","2":"tt1272878","3":"2 Guns","4":"notalk","5":"notalk","6":"FAIL","7":"6.10e+07","8":"75612460","9":"132493015","10":"2013FAIL","11":"61000000","12":"75612460","13":"132493015","14":"1","15":"1"},{"1":"2013","2":"tt0453562","3":"42","4":"men","5":"men","6":"FAIL","7":"4.00e+07","8":"95020213","9":"95020213","10":"2013FAIL","11":"40000000","12":"95020213","13":"95020213","14":"1","15":"1"},{"1":"2013","2":"tt1335975","3":"47 Ronin","4":"men","5":"men","6":"FAIL","7":"2.25e+08","8":"38362475","9":"145803842","10":"2013FAIL","11":"225000000","12":"38362475","13":"145803842","14":"1","15":"1"},{"1":"2013","2":"tt1606378","3":"A Good Day to Die Hard","4":"notalk","5":"notalk","6":"FAIL","7":"9.20e+07","8":"67349198","9":"304249198","10":"2013FAIL","11":"92000000","12":"67349198","13":"304249198","14":"1","15":"1"},{"1":"2013","2":"tt2194499","3":"About Time","4":"ok-disagree","5":"ok","6":"PASS","7":"1.20e+07","8":"15323921","9":"87324746","10":"2013PASS","11":"12000000","12":"15323921","13":"87324746","14":"1","15":"1"},{"1":"2013","2":"tt1814621","3":"Admission","4":"ok","5":"ok","6":"PASS","7":"1.30e+07","8":"18007317","9":"18007317","10":"2013PASS","11":"13000000","12":"18007317","13":"18007317","14":"1","15":"1"},{"1":"2013","2":"tt1815862","3":"After Earth","4":"notalk","5":"notalk","6":"FAIL","7":"1.30e+08","8":"60522097","9":"244373198","10":"2013FAIL","11":"130000000","12":"60522097","13":"244373198","14":"1","15":"1"},{"1":"2013","2":"tt1800241","3":"American Hustle","4":"ok-disagree","5":"ok","6":"PASS","7":"4.00e+07","8":"148430908","9":"249484909","10":"2013PASS","11":"40000000","12":"148430908","13":"249484909","14":"1","15":"1"},{"1":"2013","2":"tt1322269","3":"August: Osage County","4":"ok","5":"ok","6":"PASS","7":"2.50e+07","8":"37304874","9":"50304874","10":"2013PASS","11":"25000000","12":"37304874","13":"50304874","14":"1","15":"1"},{"1":"2013","2":"tt1559547","3":"Beautiful Creatures","4":"ok","5":"ok","6":"PASS","7":"5.00e+07","8":"19452138","9":"55940671","10":"2013PASS","11":"50000000","12":"19452138","13":"55940671","14":"1","15":"1"},{"1":"2013","2":"tt2334873","3":"Blue Jasmine","4":"ok-disagree","5":"ok","6":"PASS","7":"1.80e+07","8":"33345833","9":"68447831","10":"2013PASS","11":"18000000","12":"33345833","13":"68447831","14":"1","15":"1"},{"1":"2013","2":"tt1535109","3":"Captain Phillips","4":"notalk","5":"notalk","6":"FAIL","7":"5.50e+07","8":"107136417","9":"218743570","10":"2013FAIL","11":"55000000","12":"107136417","13":"218743570","14":"1","15":"1"},{"1":"2013","2":"tt1939659","3":"Carrie","4":"ok","5":"ok","6":"PASS","7":"3.00e+07","8":"35266619","9":"85001659","10":"2013PASS","11":"30000000","12":"35266619","13":"85001659","14":"1","15":"1"},{"1":"2013","2":"tt1985966","3":"Cloudy with a Chance of Meatballs 2","4":"nowomen-disagree","5":"nowomen","6":"FAIL","7":"7.80e+07","8":"119640264","9":"271725448","10":"2013FAIL","11":"78000000","12":"119640264","13":"271725448","14":"1","15":"1"},{"1":"2013","2":"tt1690953","3":"Despicable Me 2","4":"ok","5":"ok","6":"PASS","7":"7.60e+07","8":"368065385","9":"970766005","10":"2013PASS","11":"76000000","12":"368065385","13":"970766005","14":"1","15":"1"},{"1":"2013","2":"tt2229499","3":"Don Jon","4":"dubious-disagree","5":"dubious","6":"FAIL","7":"5.50e+06","8":"24477704","9":"26377704","10":"2013FAIL","11":"5500000","12":"24477704","13":"26377704","14":"1","15":"1"},{"1":"2013","2":"tt1535108","3":"Elysium","4":"ok-disagree","5":"ok","6":"PASS","7":"1.20e+08","8":"93050117","9":"286192091","10":"2013PASS","11":"120000000","12":"93050117","13":"286192091","14":"1","15":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</section>
<section id="variable-descriptions" class="level3">
<h3 class="anchored" data-anchor-id="variable-descriptions">Variable descriptions</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>year</td>
<td>Release year of the movie</td>
</tr>
<tr class="even">
<td>imdb</td>
<td>IMDB identifier of the movie</td>
</tr>
<tr class="odd">
<td>title</td>
<td>Title of the movie. Some special characters are encoded as <a href="https://developer.mozilla.org/en-US/docs/Glossary/Character_reference">HTML character references</a> (HTML entities), such as <code>&amp;amp;</code> for <code>&amp;</code></td>
</tr>
<tr class="even">
<td>test</td>
<td>Unknown, some version of the Bechdel Test result based on BechdelTest.com</td>
</tr>
<tr class="odd">
<td>clean_test</td>
<td>cleaned version of the Bechdel Test, where “dubious” is self-explanatory, “men” means women only talk about men, “notalk” means women don’t talk to each other, “nowomen” means having fewer than two women, and “ok” means passing the test</td>
</tr>
<tr class="even">
<td>binary</td>
<td>Binary Bechdel test results, where only “ok” is marked as PASS</td>
</tr>
<tr class="odd">
<td>budget</td>
<td>Budget, in dollars in the release year</td>
</tr>
<tr class="even">
<td>domgross</td>
<td>Domestic (US and Canada) gross box office record, in dollars, not adjusted for inflation</td>
</tr>
<tr class="odd">
<td>intgross</td>
<td>International (including domestic) gross box office record, in dollars, not adjusted</td>
</tr>
<tr class="even">
<td>code</td>
<td>time and pass/fail code, format: YYYYPASS or YYYYFAIL</td>
</tr>
<tr class="odd">
<td>budget_2013$</td>
<td>Budget, adjusted to 2013 dollars</td>
</tr>
<tr class="even">
<td>domgross_2013$</td>
<td>Domestic (US and Canada) gross box office, adjusted to 2013 dollars</td>
</tr>
<tr class="odd">
<td>intgross_2013$</td>
<td>International gross box office, adjusted to 2013 dollars</td>
</tr>
<tr class="even">
<td>period.code</td>
<td>1 = 2010-2013, 2 = 2005-2009, 3 = 2000-2004, 4 = 1995-1999, 5 = 1990-1994, NA otherwise</td>
</tr>
<tr class="odd">
<td>decade.code</td>
<td>1 = 2010-2013, 2 = 2000-2009, 3 = 1990-1999, NA otherwise</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="questions" class="level2">
<h2 class="anchored" data-anchor-id="questions">Questions</h2>
<ol type="1">
<li><p>Perform EDA on this dataset. Visualize the proportions of different categories of test results but also of passing/failing the test over time. Visualize the budget and domestic/international gross box office for Bechdel passing/failing movies over time.</p></li>
<li><p>Focus on the 1990-2013 period. Build regression models on Return-on-Investment (International gross divided by budget) with and without the Bechdel indicator. What do you find? How would you interpret your findings?</p></li>
<li><p>We can be more generous in the Bechdel Test by granting “dubious” movies passing grades, how would that affect question 2) and how would you interpret your results?</p></li>
<li><p>Think broadly and creatively, what other information would be helpful to be incorporated as variables to predict ROI to help establish a more robust argument?</p></li>
</ol>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p><a href="https://github.com/fivethirtyeight/data/tree/master/bechdel" class="uri">https://github.com/fivethirtyeight/data/tree/master/bechdel</a></p>
<p>Hickey, W. (2014, April 1). The dollar-and-cents case against Hollywood’s exclusion of women. FiveThirtyEight. <a href="https://fivethirtyeight.com/features/the-dollar-and-cents-case-against-hollywoods-exclusion-of-women/" class="uri">https://fivethirtyeight.com/features/the-dollar-and-cents-case-against-hollywoods-exclusion-of-women/</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/cmustatistics\.github\.io\/data-repository\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Maintained by the <a href="https://www.cmu.edu/dietrich/statistics-datascience/index.html">Department of Statistics &amp; Data Science</a>, Carnegie Mellon University</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/cmustatistics/data-repository/edit/main/social/bechdel_test.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/cmustatistics/data-repository/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>