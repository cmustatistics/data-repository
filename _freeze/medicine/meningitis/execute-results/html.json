{
  "hash": "abdddf248e0be4d5e14c8b41d0bc52d1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Distinguishing bacterial and viral meningitis\nauthor: Alex Reinhart\ndate: May 8, 2025\ndescription: Doctors treating meningitis must rapidly determine if it is caused by bacteria or a virus. Can this be predicted using fast, inexpensive tests, instead of slower bacterial and viral cultures? Use an observational sample of meningitis cases to build a classifier.\ncategories:\n  - logistic regression\n  - classification\ndata:\n  year: 1989\n  files: meningitis.csv\n---\n\n\n\n\n## Motivation\n\nMeningitis is an inflammation of the meninges, the membranes surrounding the\nbrain and spinal cord. It is often caused by infections with viruses or\nbacteria, and if left untreated, can cause serious harm to the brain and nervous\nsystem. Doctors hence treat it as an emergency and seek to immediately start\ntreatment.\n\nHowever, treating meningitis successfully requires knowing the cause of the\ninfection. Bacterial meningitis, caused by infection with various kinds of\nbacteria, can be treated with appropriate antibiotics. But viral meningitis,\nwhich can be caused by several different kinds of virus, does not respond at all\nto antibiotics. It's common to immediately give antibiotics so treatment can\nstart before the cause is definitively known. Doctors then use a lumbar puncture\nto draw a sample of cerebrospinal fluid (CSF), the fluid surrounding the brain\nand spine, to test for signs of bacteria. There are several diagnostic signs:\n\n- Gram staining: The sample is stained using crystal violet, which binds to the\n  walls of some kinds of bacteria. They hence show up in bright violet under a\n  microscope, demonstrating the presence of gram-positive bacteria. However,\n  other kinds of bacteria (gram-negative bacteria) do not show up with this\n  test, and it may be negative if the patient already received antibiotics.\n- White blood cell count: White blood cells are the body's immune cells. A high\n  count indicates response to an infection. There are several kinds of white\n  blood cell: Leukocytes suggest a viral infection, while neutrophil suggests a\n  bacterial infection.\n- Glucose level: The cerebrospinal fluid usually has a lower glucose level than\n  the blood. In bacterial meningitis it drops even lower.\n- Protein levels: Protein levels are typically higher in bacterial infections\n  than viral.\n\nThese measurements are fairly fast and easy to get from a CSF sample, but are\nnot definitive. To definitively show a bacterium is present, it must be cultured\nover several days, or antigens detected in a counterimmunoelectrophoresis test.\nTo definitively prove viral meningitis, the virus must be isolated from blood,\nstool, or CSF samples, or all other causes must be ruled out. In either case, a\ndefinitive ruling takes much more time and effort, while a bacterial infection\nmust be treated straight away. So can we accurately decide whether a patient has\nbacterial meningitis using just the fast and easy-to-obtain test results?\n\n## Data\n\nThe data comes from a retrospective observational study at Duke University\nMedical Center, using records for all patients with acute meningitis between\nJanuary 1969 and July 1980. The researchers used laboratory records to determine\nwhich patients had bacterial or viral meningitis, and extracted initial test\nresults from the patients' charts. Patients had both blood tests and\ncerebrospinal fluid (CSF) tests. Most patients had tests conducted immediately\nupon admission, and some had a second set of tests later in their stay.\n\nMany values are missing, as not every patient had every test conducted. Some\nvariables are present in the data but not documented; these are marked\n\"Unknown\". These undocumented variables were not used in the original published\nanalysis of the data.\n\n### Data preview\n\n\n\n\n<h4><a href=\" https://cmustatistics.github.io/data-repository/data/meningitis.csv \"> meningitis.csv </a></h4>\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"casenum\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"year\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"month\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"age\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"race\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"sex\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"dx\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"priordx\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"priorrx\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"wbc\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"pmn\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"bands\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"compns\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"daysrx\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"offrx\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"lptodc\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"lpgap\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"morelabs\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"bloodgl\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"gl\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"pr\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"reds\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"whites\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"polys\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"lymphs\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"monos\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"others\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"gram\"],\"name\":[28],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"culture\"],\"name\":[29],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"cie\"],\"name\":[30],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"bloodclt\"],\"name\":[31],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"bloodgl2\"],\"name\":[32],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"gl2\"],\"name\":[33],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"pr2\"],\"name\":[34],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"reds2\"],\"name\":[35],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"whites2\"],\"name\":[36],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"polys2\"],\"name\":[37],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"lymphs2\"],\"name\":[38],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"monos2\"],\"name\":[39],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"others2\"],\"name\":[40],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"sumbands\"],\"name\":[41],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"subset\"],\"name\":[42],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"abm\"],\"name\":[43],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"78\",\"3\":\"1\",\"4\":\"4.00000000\",\"5\":\"black\",\"6\":\"female\",\"7\":\"1\",\"8\":\"0\",\"9\":\"0\",\"10\":\"6.5\",\"11\":\"50\",\"12\":\"4\",\"13\":\"0\",\"14\":\"10\",\"15\":\"0\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"165\",\"20\":\"3\",\"21\":\"304\",\"22\":\"440\",\"23\":\"4000\",\"24\":\"100\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"4\",\"29\":\"1\",\"30\":\"1\",\"31\":\"1\",\"32\":\"NA\",\"33\":\"58\",\"34\":\"46\",\"35\":\"1\",\"36\":\"47\",\"37\":\"0\",\"38\":\"100\",\"39\":\"0\",\"40\":\"0\",\"41\":\"2.000000\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"2\",\"2\":\"78\",\"3\":\"12\",\"4\":\"1.00000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"1\",\"8\":\"0\",\"9\":\"0\",\"10\":\"3.7\",\"11\":\"62\",\"12\":\"5\",\"13\":\"0\",\"14\":\"10\",\"15\":\"2\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"150\",\"20\":\"92\",\"21\":\"NA\",\"22\":\"450\",\"23\":\"5490\",\"24\":\"97\",\"25\":\"3\",\"26\":\"0\",\"27\":\"0\",\"28\":\"5\",\"29\":\"1\",\"30\":\"NA\",\"31\":\"1\",\"32\":\"NA\",\"33\":\"60\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"3.099000\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"3\",\"2\":\"78\",\"3\":\"3\",\"4\":\"0.79999995\",\"5\":\"black\",\"6\":\"male\",\"7\":\"0\",\"8\":\"1\",\"9\":\"1\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"6\",\"14\":\"10\",\"15\":\"1\",\"16\":\"1\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"183\",\"20\":\"36\",\"21\":\"NA\",\"22\":\"0\",\"23\":\"4500\",\"24\":\"100\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"52\",\"34\":\"51\",\"35\":\"335\",\"36\":\"230\",\"37\":\"0\",\"38\":\"100\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"NA\"},{\"1\":\"4\",\"2\":\"78\",\"3\":\"8\",\"4\":\"54.00000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"6\",\"8\":\"2\",\"9\":\"0\",\"10\":\"7.5\",\"11\":\"73\",\"12\":\"7\",\"13\":\"6\",\"14\":\"10\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"52\",\"21\":\"43\",\"22\":\"27\",\"23\":\"0\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"0\",\"29\":\"6\",\"30\":\"NA\",\"31\":\"6\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"5.108999\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"5\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"NA\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"NA\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"NA\",\"29\":\"NA\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"0\"},{\"1\":\"6\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"NA\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"NA\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"NA\",\"29\":\"NA\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"0\"},{\"1\":\"7\",\"2\":\"78\",\"3\":\"12\",\"4\":\"0.50000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"2\",\"8\":\"0\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"1\",\"14\":\"28\",\"15\":\"1\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"16500\",\"24\":\"100\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"NA\",\"29\":\"NA\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"50\",\"34\":\"23\",\"35\":\"0\",\"36\":\"2\",\"37\":\"0\",\"38\":\"100\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"8\",\"2\":\"78\",\"3\":\"2\",\"4\":\"0.09999996\",\"5\":\"black\",\"6\":\"male\",\"7\":\"6\",\"8\":\"0\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"10\",\"15\":\"1\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"95\",\"20\":\"54\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"505\",\"24\":\"100\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"6\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"17\",\"36\":\"4\",\"37\":\"75\",\"38\":\"25\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"9\",\"2\":\"NA\",\"3\":\"NA\",\"4\":\"NA\",\"5\":\"NA\",\"6\":\"NA\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"NA\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"NA\",\"29\":\"NA\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"0\"},{\"1\":\"10\",\"2\":\"78\",\"3\":\"12\",\"4\":\"11.00000000\",\"5\":\"white\",\"6\":\"female\",\"7\":\"0\",\"8\":\"NA\",\"9\":\"1\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"14\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"35\",\"21\":\"175\",\"22\":\"NA\",\"23\":\"700\",\"24\":\"1\",\"25\":\"99\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"NA\"},{\"1\":\"11\",\"2\":\"78\",\"3\":\"3\",\"4\":\"66.00000000\",\"5\":\"white\",\"6\":\"male\",\"7\":\"NA\",\"8\":\"NA\",\"9\":\"NA\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"NA\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"NA\",\"19\":\"NA\",\"20\":\"NA\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"NA\",\"29\":\"NA\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"NA\"},{\"1\":\"12\",\"2\":\"78\",\"3\":\"1\",\"4\":\"32.00000000\",\"5\":\"black\",\"6\":\"female\",\"7\":\"0\",\"8\":\"2\",\"9\":\"1\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"57\",\"21\":\"188\",\"22\":\"40\",\"23\":\"1500\",\"24\":\"99\",\"25\":\"1\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"NA\"},{\"1\":\"13\",\"2\":\"78\",\"3\":\"5\",\"4\":\"1.00000000\",\"5\":\"black\",\"6\":\"female\",\"7\":\"1\",\"8\":\"1\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"10\",\"15\":\"1\",\"16\":\"1\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"164\",\"20\":\"36\",\"21\":\"NA\",\"22\":\"56\",\"23\":\"721\",\"24\":\"41\",\"25\":\"59\",\"26\":\"0\",\"27\":\"0\",\"28\":\"4\",\"29\":\"1\",\"30\":\"0\",\"31\":\"NA\",\"32\":\"95\",\"33\":\"70\",\"34\":\"19\",\"35\":\"0\",\"36\":\"1\",\"37\":\"0\",\"38\":\"100\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"14\",\"2\":\"78\",\"3\":\"8\",\"4\":\"1.00000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"1\",\"8\":\"0\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"265\",\"14\":\"NA\",\"15\":\"NA\",\"16\":\"NA\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"2\",\"21\":\"42\",\"22\":\"NA\",\"23\":\"1640\",\"24\":\"83\",\"25\":\"17\",\"26\":\"0\",\"27\":\"0\",\"28\":\"4\",\"29\":\"1\",\"30\":\"NA\",\"31\":\"1\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"NA\",\"36\":\"NA\",\"37\":\"NA\",\"38\":\"NA\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"15\",\"2\":\"78\",\"3\":\"6\",\"4\":\"0.50000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"1\",\"8\":\"1\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"4\",\"14\":\"12\",\"15\":\"2\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"145\",\"20\":\"80\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"3\",\"24\":\"0\",\"25\":\"100\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"1\",\"30\":\"NA\",\"31\":\"1\",\"32\":\"NA\",\"33\":\"49\",\"34\":\"49\",\"35\":\"880\",\"36\":\"30\",\"37\":\"2\",\"38\":\"86\",\"39\":\"12\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"16\",\"2\":\"78\",\"3\":\"7\",\"4\":\"0.29999995\",\"5\":\"white\",\"6\":\"male\",\"7\":\"1\",\"8\":\"0\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"14\",\"14\":\"28\",\"15\":\"2\",\"16\":\"17\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"140\",\"21\":\"200\",\"22\":\"NA\",\"23\":\"NA\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"0\",\"29\":\"4\",\"30\":\"NA\",\"31\":\"4\",\"32\":\"NA\",\"33\":\"16\",\"34\":\"125\",\"35\":\"12\",\"36\":\"480\",\"37\":\"20\",\"38\":\"56\",\"39\":\"NA\",\"40\":\"NA\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"17\",\"2\":\"78\",\"3\":\"4\",\"4\":\"1.00000000\",\"5\":\"black\",\"6\":\"male\",\"7\":\"1\",\"8\":\"0\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"14\",\"15\":\"1\",\"16\":\"1\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"30\",\"21\":\"NA\",\"22\":\"3660\",\"23\":\"13680\",\"24\":\"94\",\"25\":\"6\",\"26\":\"0\",\"27\":\"0\",\"28\":\"5\",\"29\":\"1\",\"30\":\"NA\",\"31\":\"1\",\"32\":\"NA\",\"33\":\"NA\",\"34\":\"NA\",\"35\":\"0\",\"36\":\"161\",\"37\":\"0\",\"38\":\"85\",\"39\":\"15\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"},{\"1\":\"18\",\"2\":\"78\",\"3\":\"4\",\"4\":\"0.39999998\",\"5\":\"white\",\"6\":\"male\",\"7\":\"1\",\"8\":\"NA\",\"9\":\"1\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"4\",\"14\":\"13\",\"15\":\"2\",\"16\":\"2\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"52\",\"21\":\"NA\",\"22\":\"NA\",\"23\":\"203\",\"24\":\"NA\",\"25\":\"NA\",\"26\":\"NA\",\"27\":\"NA\",\"28\":\"NA\",\"29\":\"1\",\"30\":\"0\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"38\",\"34\":\"78\",\"35\":\"680\",\"36\":\"90\",\"37\":\"75\",\"38\":\"25\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"19\",\"2\":\"78\",\"3\":\"3\",\"4\":\"0.19999999\",\"5\":\"white\",\"6\":\"female\",\"7\":\"2\",\"8\":\"0\",\"9\":\"0\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"6\",\"14\":\"14\",\"15\":\"2\",\"16\":\"5\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"189\",\"20\":\"46\",\"21\":\"NA\",\"22\":\"4000\",\"23\":\"800\",\"24\":\"90\",\"25\":\"10\",\"26\":\"0\",\"27\":\"0\",\"28\":\"1\",\"29\":\"0\",\"30\":\"2\",\"31\":\"0\",\"32\":\"136\",\"33\":\"46\",\"34\":\"103\",\"35\":\"13\",\"36\":\"11\",\"37\":\"55\",\"38\":\"45\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"training\",\"43\":\"1\"},{\"1\":\"20\",\"2\":\"78\",\"3\":\"5\",\"4\":\"0.79999995\",\"5\":\"white\",\"6\":\"male\",\"7\":\"1\",\"8\":\"NA\",\"9\":\"1\",\"10\":\"NA\",\"11\":\"NA\",\"12\":\"NA\",\"13\":\"0\",\"14\":\"16\",\"15\":\"1\",\"16\":\"0\",\"17\":\"NA\",\"18\":\"0\",\"19\":\"NA\",\"20\":\"3\",\"21\":\"206\",\"22\":\"NA\",\"23\":\"5000\",\"24\":\"94\",\"25\":\"6\",\"26\":\"0\",\"27\":\"0\",\"28\":\"NA\",\"29\":\"1\",\"30\":\"NA\",\"31\":\"NA\",\"32\":\"NA\",\"33\":\"45\",\"34\":\"30\",\"35\":\"200\",\"36\":\"73\",\"37\":\"1\",\"38\":\"99\",\"39\":\"0\",\"40\":\"0\",\"41\":\"NA\",\"42\":\"test\",\"43\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n\n\n\n\n### Variable descriptions\n\n| Variable | Description |\n|----|-------------|\n| casenum | Case number |\n| year | Year of the case (two digits, such as 78 for 1978) |\n| month | Month number |\n| age | Age of the patient, years |\n| race | Race of the patient (Black or White) |\n| sex | Sex of the patient (male or female) |\n| dx | Unknown |\n| priordx | Unknown |\n| priorrx | Whether patient received antibiotics prior to admission to the hospital (0 = no, 1 = yes) |\n| wbc | White blood cell count per 1,000, in a blood sample |\n| pmn | % polymorphonuclear leukocytes (PMNs) in blood |\n| bands | Percentage of blood PMNs that are immature \"band\" forms |\n| compns | Unknown |\n| daysrx | Unknown |\n| offrx | Unknown |\n| lptodc | Unknown |\n| lpgap | Hours between the first lumbar puncture and the second, if a second was conducted |\n| morelabs | Unknown |\n| bloodgl | Blood glucose level (mg/dL) |\n| gl | CSF glucose level (mg/dL) |\n| pr | CSF protein level (mg/dL) |\n| reds | CSF red blood cell count (count per mm^3^) |\n| whites | Total leukocytes (white blood cells) in CSF (count per mm^3^) |\n| polys | % polymorphonuclear leukocytes (PMNs) in CSF |\n| lymphs  | Cerebrospinal fluid lymphocyte count (units not given) |\n| monos | Unknown; possibly CSF monocyte percentage |\n| others | Unknown; possibly percentage of other white blood cell types in CSF |\n| gram | Gram smear result (0 = Gram-negative, positive values mean Gram-positive) |\n| culture | Unknown |\n| cie | Unknown; possibly the result of counterimmunoelectrophoresis (CIE) tests for presence of specific bacterial antigens, but coding is not clear |\n| bloodclt | Unknown |\n| bloodgl2 | Unknown; possibly blood glucose level at the time of the second lumbar puncture |\n| gl2 | CSF glucose level in the second lumbar puncture |\n| pr2 | CSF protein level in the second lumbar puncture |\n| reds2 | CSF red blood cell count in the second lumbar puncture |\n| whites2 | CSV white blood cell count in the second lumbar puncture |\n| polys2 | % PMNs in the second lumbar puncture |\n| lymphs2 | CSF lymphocyte count in the second lumbar puncture |\n| monos2 | Unknown; possibly CSF monocyte percentage in the second lumbar puncture |\n| others2 | Unknown; possibly percentage of other white blood cell types in the second lumbar puncture |\n| sumbands | Unknown |\n| subset | The original researchers divided the data into a training set and a test set; this gives the assignment of each case |\n| abm | Whether the patient has acute bacterial meningitis (1) or viral meningitis (0), as ultimately determined by cultures and antigen tests |\n\n\n## Questions\n\n1. The original researchers derived several features from the measurements\n   given. Calculate these and add them to your data frame:\n   - The ratio of CSF to blood glucose levels. It is thought that the ratio is a\n     better predictor than the CSF glucose level alone.\n   - Number of months from August. (For example, September and July are both 1\n     month from August.) Bacterial meningitis is most common in the winter and\n     viral meningitis most common in the summer.\n2. Conduct an exploratory data analysis. First, examine the amount of\n   missingness of the key variables. Then construct plots to examine how each\n   key variable, including the new ones you calculated, may be related to the\n   response (whether the patient has bacterial meningitis). The researchers\n   believe age may affect the diagnostic relationships, so compare relationships\n   for patients under 21 and over 21.\n\n   As binary outcomes are hard to plot, it may help to divide the range of each\n   predictor into bins, and plot the value against the fraction of cases in the\n   bin that were bacterial. Comment on whether any predictors should be\n   transformed, and the shape of the relationships between predictor and\n   response.\n3. Fit a logistic regression to predict whether the patient has bacterial\n   meningitis, using blood and CSF test results plus the features you derived in\n   step 1. Include age and determine whether the other relationships vary with\n   age. Ensure you hold out a test set before conducting your analysis. Make any\n   necessary transformations and use diagnostics to check the relationships. Try\n   to reduce your model: Are the calculated features more important than the raw\n   test results? What is the simplest model you can construct that is an\n   accurate predictor?\n4. Evaluate your model on the test set and report its performance. Show a\n   confusion matrix.\n\n## References\n\nSpanos, Harrell, and Durack (1989). \"Differential Diagnosis of Acute Meningitis:\nAn Analysis of the Predictive Value of Initial Observations.\" *JAMA* 262 (19),\n2700-2707. <https://doi.org/10.1001/jama.1989.03430190084036>\n\nData obtained from <https://hbiostat.org/data/> courtesy of the Vanderbilt\nUniversity Department of Biostatistics.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}